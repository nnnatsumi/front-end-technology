<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		
		<input type="button" name="" id="btn" value="绑定" />
		<input type="button" name="" id="btn2" value="解绑" />
		
		<script src="common.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			//绑定事件兼容代码
				function addEventListener(element,type,fn){
					if(element.addEventListener){
						element.addEventListener(type,fn,false);
					}else if(element.attachEvent){
						element.attachEvent("on"+type,fn);
					}else{
						element["on"+type] = fn;
					}
				}
			
			//解绑事件兼容代码
				function removeEventListener(element,type,fnName){
					if(element.removeEventListener){
						element.removeEventListener(type,fnName,false);
					}else if(element.detachEvent){
						element.detachEvent("on"+type,fnName);
					}else{
						element["on"+type] = null;
					}
				}
				
				//测试
					function f1(){
						console.log("竹杖芒鞋轻胜马");
					}
					function f2(){
						console.log("一蓑烟雨任平生");
					}
					addEventListener(my$("btn"),"click",f1);
					addEventListener(my$("btn"),"click",f2);
							
					my$("btn2").onclick = function(){
						removeEventListener(my$("btn"),"click",f1);
					};
		</script>
		
	</body>
</html>
